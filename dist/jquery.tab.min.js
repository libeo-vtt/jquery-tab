!function(t){var i=function(i,s){this.tab=t(i),this.config=t.extend({defaultOpenedTab:1,closeOnClick:!1,ariaTextClass:"aria-text",tabWrapperClass:"tab-wrapper",tabTriggerClass:"tab-trigger",tabContentClass:"tab-content",ariaText:"Cliquer pour afficher cet onglet",onFocus:t.noop,beforeOpen:t.noop,afterOpen:t.noop,beforeClose:t.noop,afterClose:t.noop,onBlur:t.noop,customGlobalClasses:{}},s||{}),this.classes=t.extend({active:"is-active",open:"is-open",hover:"is-hover",clicked:"is-clicked",extern:"is-external",error:"is-error"},this.config.customGlobalClasses||{}),this.tabWrapper=this.tab.find("."+this.config.tabWrapperClass),this.tab.find("."+this.config.tabTriggerClass).buttonize({a11y:this.config.a11y}),this.tabTrigger=this.tab.find("."+this.config.tabTriggerClass),this.tabContent=this.tab.find("."+this.config.tabContentClass),this.tabTrigger.append('<span class="'+this.config.ariaTextClass+' visuallyhidden">'+this.config.ariaText+"</span>"),this.init()};t.extend(i.prototype,{init:function(){this.tab.css({position:"relative",paddingTop:t(this.calculateHighestTabTrigger()).eminize()}),this.tabContent.hide(),this.changeTab(this.config.defaultOpenedTab-1),this.bindEvents(),this.adjustTabTrigger()},bindEvents:function(){this.tabTrigger.on("click",t.proxy(function(i){var s=i.currentTarget;t(s).parents("."+this.config.tabWrapperClass).hasClass(this.classes.active)?this.config.closeOnClick&&(this.tabContent.hide(),t(s).parents("."+this.config.tabWrapperClass).removeClass(this.classes.active)):this.changeTab(t(s).parents("."+this.config.tabWrapperClass).index())},this)),this.tabTrigger.on("focus",this.config.onFocus),this.tabTrigger.on("blur",this.config.onBlur)},adjustTabTrigger:function(){this.tabTrigger.each(t.proxy(function(i,s){t(s).css({position:"absolute",top:"0",left:this.calculateLeftOffset(i)})},this))},changeTab:function(t){this.tabContent.hide(),this.tabWrapper.eq(t).find("."+this.config.tabContentClass).show(),this.tabWrapper.removeClass(this.classes.active).eq(t).addClass(this.classes.active),this.tabTrigger.removeClass(this.classes.active).eq(t).addClass(this.classes.active)},calculateHighestTabTrigger:function(){var i=0;return this.tabTrigger.each(function(s,e){t(e).outerHeight()>i&&(i=t(e).outerHeight())}),i},calculateLeftOffset:function(i){for(var s=0,e=0;i>e;e++)s+=this.tabTrigger.eq(e).outerWidth(!0);return t(s).eminize()}}),t.fn.tab=function(s){return this.each(function(){var e=t(this);if(!e.data("tab")){var a=new i(this,s);e.data("tab",a)}})}}(jQuery);