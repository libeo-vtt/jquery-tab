!function(t){var s=function(s,e){this.tab=t(s),this.defaults={defaultOpenedTab:1,closeOnClick:!1,onFocus:t.noop,beforeOpen:t.noop,afterOpen:t.noop,beforeClose:t.noop,afterClose:t.noop,onBlur:t.noop,labels:{ariaText:"Cliquer pour afficher cet onglet"},classes:{ariaText:"aria-text",tabWrapper:"tab-wrapper",tabTrigger:"tab-trigger",tabContent:"tab-content",states:{active:"is-active"}}},this.classes=t.extend(!0,this.defaults.classes,window.project?window.project.classes:{}),this.labels=t.extend(!0,this.defaults.labels,window.project?window.project.labels:{}),this.config=t.extend(!0,this.defaults,e||{}),this.tabWrapper=this.tab.find("."+this.classes.tabWrapper),this.tab.find("."+this.classes.tabTrigger).buttonize({a11y:this.config.a11y}),this.tabTrigger=this.tab.find("."+this.classes.tabTrigger),this.tabContent=this.tab.find("."+this.classes.tabContent),this.tabTrigger.append('<span class="'+this.classes.ariaText+' visuallyhidden">'+this.labels.ariaText+"</span>"),this.init()};t.extend(s.prototype,{init:function(){this.tab.css({position:"relative",paddingTop:this.calculateHighestTabTrigger()}),this.tabContent.hide(),this.changeTab(this.config.defaultOpenedTab-1),this.bindEvents(),this.adjustTabTrigger()},bindEvents:function(){this.tabTrigger.on("click",t.proxy(function(s){var e=s.currentTarget;t(e).parents("."+this.classes.tabWrapper).hasClass(this.classes.states.active)?this.config.closeOnClick&&(this.tabContent.hide(),t(e).parents("."+this.classes.tabWrapper).removeClass(this.classes.states.active)):this.changeTab(t(e).parents("."+this.classes.tabWrapper).index())},this)),this.tabTrigger.on("focus",this.config.onFocus),this.tabTrigger.on("blur",this.config.onBlur)},adjustTabTrigger:function(){this.tabTrigger.each(t.proxy(function(s,e){t(e).css({position:"absolute",top:"0",left:this.calculateLeftOffset(s)})},this))},changeTab:function(t){this.tabContent.hide(),this.tabWrapper.eq(t).find("."+this.classes.tabContent).show(),this.tabWrapper.removeClass(this.classes.states.active).eq(t).addClass(this.classes.states.active),this.tabTrigger.removeClass(this.classes.states.active).eq(t).addClass(this.classes.states.active)},calculateHighestTabTrigger:function(){var s=0;return this.tabTrigger.each(function(e,a){t(a).outerHeight()>s&&(s=t(a).outerHeight())}),s=s/16+"rem"},calculateLeftOffset:function(t){for(var s=0,e=0;t>e;e++)s+=this.tabTrigger.eq(e).outerWidth(!0);return s=s/16+"rem"}}),t.fn.tab=function(e){return this.each(function(){var a=t(this);if(!a.data("tab")){var i=new s(this,e);a.data("tab",i)}})}}(jQuery);